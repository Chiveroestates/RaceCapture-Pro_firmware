   1              		.code	16
   2              		.file	"runtime.c"
   3              		.global	g_saved_engine_config
   4              		.section	.text
   5              		#,"a",%progbits
   6              		.align	2
   9              	g_saved_engine_config:
  10 0000 04000000 		.word	4
  11 0004 00000000 		.word	0
  12 0008 00000000 		.word	0
  13 000c B4000000 		.word	180
  14 0010 01000000 		.word	1
  15 0014 B4000000 		.word	180
  16 0018 01000000 		.word	1
  17 001c 00000000 		.word	0
  18 0020 00000000 		.word	0
  19 0024 00000000 		.word	0
  20 0028 00000000 		.word	0
  21 002c 00000000 		.word	0
  22 0030 00000000 		.word	0
  23 0034 00000000 		.word	0
  24 0038 00000000 		.word	0
  25 003c 00000000 		.word	0
  26 0040 00000000 		.word	0
  27 0044 5A000000 		.word	90
  28 0048 0C000000 		.word	12
  29              		.global	g_saved_ignition_config
  30              		.align	2
  33              	g_saved_ignition_config:
  34 004c F4010000 		.word	500
  35 0050 E8030000 		.word	1000
  36 0054 D0070000 		.word	2000
  37 0058 C4090000 		.word	2500
  38 005c B80B0000 		.word	3000
  39 0060 AC0D0000 		.word	3500
  40 0064 A00F0000 		.word	4000
  41 0068 88130000 		.word	5000
  42 006c 70170000 		.word	6000
  43 0070 581B0000 		.word	7000
  44 0074 401F0000 		.word	8000
  45 0078 28230000 		.word	9000
  46 007c 14000000 		.word	20
  47 0080 1E000000 		.word	30
  48 0084 28000000 		.word	40
  49 0088 32000000 		.word	50
  50 008c 3C000000 		.word	60
  51 0090 46000000 		.word	70
  52 0094 64000000 		.word	100
  53 0098 78000000 		.word	120
  54 009c 82000000 		.word	130
  55 00a0 8C000000 		.word	140
  56 00a4 AA000000 		.word	170
  57 00a8 DC000000 		.word	220
  58 00ac 0C000000 		.word	12
  59 00b0 14000000 		.word	20
  60 00b4 19000000 		.word	25
  61 00b8 1B000000 		.word	27
  62 00bc 1E000000 		.word	30
  63 00c0 20000000 		.word	32
  64 00c4 23000000 		.word	35
  65 00c8 24000000 		.word	36
  66 00cc 24000000 		.word	36
  67 00d0 26000000 		.word	38
  68 00d4 28000000 		.word	40
  69 00d8 2A000000 		.word	42
  70 00dc 0C000000 		.word	12
  71 00e0 14000000 		.word	20
  72 00e4 19000000 		.word	25
  73 00e8 1B000000 		.word	27
  74 00ec 1E000000 		.word	30
  75 00f0 20000000 		.word	32
  76 00f4 23000000 		.word	35
  77 00f8 24000000 		.word	36
  78 00fc 24000000 		.word	36
  79 0100 26000000 		.word	38
  80 0104 28000000 		.word	40
  81 0108 2A000000 		.word	42
  82 010c 0F000000 		.word	15
  83 0110 14000000 		.word	20
  84 0114 19000000 		.word	25
  85 0118 1B000000 		.word	27
  86 011c 1E000000 		.word	30
  87 0120 20000000 		.word	32
  88 0124 23000000 		.word	35
  89 0128 24000000 		.word	36
  90 012c 24000000 		.word	36
  91 0130 24000000 		.word	36
  92 0134 28000000 		.word	40
  93 0138 2A000000 		.word	42
  94 013c 0F000000 		.word	15
  95 0140 14000000 		.word	20
  96 0144 19000000 		.word	25
  97 0148 1B000000 		.word	27
  98 014c 1E000000 		.word	30
  99 0150 20000000 		.word	32
 100 0154 23000000 		.word	35
 101 0158 24000000 		.word	36
 102 015c 24000000 		.word	36
 103 0160 24000000 		.word	36
 104 0164 27000000 		.word	39
 105 0168 28000000 		.word	40
 106 016c 0F000000 		.word	15
 107 0170 14000000 		.word	20
 108 0174 19000000 		.word	25
 109 0178 1B000000 		.word	27
 110 017c 1C000000 		.word	28
 111 0180 1D000000 		.word	29
 112 0184 1E000000 		.word	30
 113 0188 21000000 		.word	33
 114 018c 22000000 		.word	34
 115 0190 22000000 		.word	34
 116 0194 24000000 		.word	36
 117 0198 26000000 		.word	38
 118 019c 0C000000 		.word	12
 119 01a0 14000000 		.word	20
 120 01a4 17000000 		.word	23
 121 01a8 17000000 		.word	23
 122 01ac 17000000 		.word	23
 123 01b0 19000000 		.word	25
 124 01b4 19000000 		.word	25
 125 01b8 19000000 		.word	25
 126 01bc 19000000 		.word	25
 127 01c0 19000000 		.word	25
 128 01c4 1E000000 		.word	30
 129 01c8 1E000000 		.word	30
 130 01cc 0C000000 		.word	12
 131 01d0 12000000 		.word	18
 132 01d4 14000000 		.word	20
 133 01d8 16000000 		.word	22
 134 01dc 16000000 		.word	22
 135 01e0 17000000 		.word	23
 136 01e4 17000000 		.word	23
 137 01e8 17000000 		.word	23
 138 01ec 18000000 		.word	24
 139 01f0 18000000 		.word	24
 140 01f4 19000000 		.word	25
 141 01f8 19000000 		.word	25
 142 01fc 0A000000 		.word	10
 143 0200 0F000000 		.word	15
 144 0204 14000000 		.word	20
 145 0208 16000000 		.word	22
 146 020c 16000000 		.word	22
 147 0210 16000000 		.word	22
 148 0214 16000000 		.word	22
 149 0218 16000000 		.word	22
 150 021c 16000000 		.word	22
 151 0220 16000000 		.word	22
 152 0224 17000000 		.word	23
 153 0228 17000000 		.word	23
 154 022c 0A000000 		.word	10
 155 0230 0F000000 		.word	15
 156 0234 14000000 		.word	20
 157 0238 16000000 		.word	22
 158 023c 16000000 		.word	22
 159 0240 16000000 		.word	22
 160 0244 16000000 		.word	22
 161 0248 16000000 		.word	22
 162 024c 16000000 		.word	22
 163 0250 16000000 		.word	22
 164 0254 16000000 		.word	22
 165 0258 14000000 		.word	20
 166 025c 0A000000 		.word	10
 167 0260 0F000000 		.word	15
 168 0264 14000000 		.word	20
 169 0268 16000000 		.word	22
 170 026c 16000000 		.word	22
 171 0270 16000000 		.word	22
 172 0274 16000000 		.word	22
 173 0278 16000000 		.word	22
 174 027c 16000000 		.word	22
 175 0280 16000000 		.word	22
 176 0284 16000000 		.word	22
 177 0288 14000000 		.word	20
 178 028c 0A000000 		.word	10
 179 0290 0F000000 		.word	15
 180 0294 14000000 		.word	20
 181 0298 16000000 		.word	22
 182 029c 16000000 		.word	22
 183 02a0 16000000 		.word	22
 184 02a4 16000000 		.word	22
 185 02a8 16000000 		.word	22
 186 02ac 16000000 		.word	22
 187 02b0 16000000 		.word	22
 188 02b4 15000000 		.word	21
 189 02b8 13000000 		.word	19
 190 02bc 0A000000 		.word	10
 191 02c0 0F000000 		.word	15
 192 02c4 14000000 		.word	20
 193 02c8 16000000 		.word	22
 194 02cc 16000000 		.word	22
 195 02d0 16000000 		.word	22
 196 02d4 16000000 		.word	22
 197 02d8 16000000 		.word	22
 198 02dc 16000000 		.word	22
 199 02e0 16000000 		.word	22
 200 02e4 14000000 		.word	20
 201 02e8 13000000 		.word	19
 202 02ec 00000000 		.word	0
 203 02f0 00000000 		.word	0
 204 02f4 28230000 		.word	9000
 205 02f8 00000000 		.word	0
 206 02fc 00000000 		.word	0
 207 0300 28230000 		.word	9000
 208 0304 00000000 		.word	0
 209 0308 00000000 		.word	0
 210 030c 28230000 		.word	9000
 211 0310 00000000 		.word	0
 212 0314 00000000 		.word	0
 213 0318 28230000 		.word	9000
 214 031c 00000000 		.word	0
 215 0320 00000000 		.word	0
 216 0324 28230000 		.word	9000
 217 0328 00000000 		.word	0
 218 032c 00000000 		.word	0
 219 0330 28230000 		.word	9000
 220 0334 00000000 		.word	0
 221 0338 00000000 		.word	0
 222 033c 28230000 		.word	9000
 223 0340 F4010000 		.word	500
 224 0344 E8030000 		.word	1000
 225 0348 D0070000 		.word	2000
 226 034c C4090000 		.word	2500
 227 0350 B80B0000 		.word	3000
 228 0354 AC0D0000 		.word	3500
 229 0358 A00F0000 		.word	4000
 230 035c 88130000 		.word	5000
 231 0360 70170000 		.word	6000
 232 0364 581B0000 		.word	7000
 233 0368 401F0000 		.word	8000
 234 036c 28230000 		.word	9000
 235 0370 14000000 		.word	20
 236 0374 1E000000 		.word	30
 237 0378 28000000 		.word	40
 238 037c 32000000 		.word	50
 239 0380 3C000000 		.word	60
 240 0384 46000000 		.word	70
 241 0388 64000000 		.word	100
 242 038c 78000000 		.word	120
 243 0390 82000000 		.word	130
 244 0394 8C000000 		.word	140
 245 0398 AA000000 		.word	170
 246 039c DC000000 		.word	220
 247 03a0 0C000000 		.word	12
 248 03a4 14000000 		.word	20
 249 03a8 19000000 		.word	25
 250 03ac 1B000000 		.word	27
 251 03b0 1E000000 		.word	30
 252 03b4 20000000 		.word	32
 253 03b8 23000000 		.word	35
 254 03bc 24000000 		.word	36
 255 03c0 24000000 		.word	36
 256 03c4 26000000 		.word	38
 257 03c8 28000000 		.word	40
 258 03cc 2A000000 		.word	42
 259 03d0 0C000000 		.word	12
 260 03d4 14000000 		.word	20
 261 03d8 19000000 		.word	25
 262 03dc 1B000000 		.word	27
 263 03e0 1E000000 		.word	30
 264 03e4 20000000 		.word	32
 265 03e8 23000000 		.word	35
 266 03ec 24000000 		.word	36
 267 03f0 24000000 		.word	36
 268 03f4 26000000 		.word	38
 269 03f8 28000000 		.word	40
 270 03fc 2A000000 		.word	42
 271 0400 0F000000 		.word	15
 272 0404 14000000 		.word	20
 273 0408 19000000 		.word	25
 274 040c 1B000000 		.word	27
 275 0410 1E000000 		.word	30
 276 0414 20000000 		.word	32
 277 0418 23000000 		.word	35
 278 041c 24000000 		.word	36
 279 0420 24000000 		.word	36
 280 0424 24000000 		.word	36
 281 0428 28000000 		.word	40
 282 042c 2A000000 		.word	42
 283 0430 0F000000 		.word	15
 284 0434 14000000 		.word	20
 285 0438 19000000 		.word	25
 286 043c 1B000000 		.word	27
 287 0440 1E000000 		.word	30
 288 0444 20000000 		.word	32
 289 0448 23000000 		.word	35
 290 044c 24000000 		.word	36
 291 0450 24000000 		.word	36
 292 0454 24000000 		.word	36
 293 0458 27000000 		.word	39
 294 045c 28000000 		.word	40
 295 0460 0F000000 		.word	15
 296 0464 14000000 		.word	20
 297 0468 19000000 		.word	25
 298 046c 1B000000 		.word	27
 299 0470 1C000000 		.word	28
 300 0474 1D000000 		.word	29
 301 0478 1E000000 		.word	30
 302 047c 21000000 		.word	33
 303 0480 22000000 		.word	34
 304 0484 22000000 		.word	34
 305 0488 24000000 		.word	36
 306 048c 26000000 		.word	38
 307 0490 0C000000 		.word	12
 308 0494 14000000 		.word	20
 309 0498 17000000 		.word	23
 310 049c 17000000 		.word	23
 311 04a0 17000000 		.word	23
 312 04a4 19000000 		.word	25
 313 04a8 19000000 		.word	25
 314 04ac 19000000 		.word	25
 315 04b0 19000000 		.word	25
 316 04b4 19000000 		.word	25
 317 04b8 1E000000 		.word	30
 318 04bc 1E000000 		.word	30
 319 04c0 0C000000 		.word	12
 320 04c4 12000000 		.word	18
 321 04c8 14000000 		.word	20
 322 04cc 16000000 		.word	22
 323 04d0 16000000 		.word	22
 324 04d4 17000000 		.word	23
 325 04d8 17000000 		.word	23
 326 04dc 17000000 		.word	23
 327 04e0 18000000 		.word	24
 328 04e4 18000000 		.word	24
 329 04e8 19000000 		.word	25
 330 04ec 19000000 		.word	25
 331 04f0 0A000000 		.word	10
 332 04f4 0F000000 		.word	15
 333 04f8 14000000 		.word	20
 334 04fc 16000000 		.word	22
 335 0500 16000000 		.word	22
 336 0504 16000000 		.word	22
 337 0508 16000000 		.word	22
 338 050c 16000000 		.word	22
 339 0510 16000000 		.word	22
 340 0514 16000000 		.word	22
 341 0518 17000000 		.word	23
 342 051c 17000000 		.word	23
 343 0520 0A000000 		.word	10
 344 0524 0F000000 		.word	15
 345 0528 14000000 		.word	20
 346 052c 16000000 		.word	22
 347 0530 16000000 		.word	22
 348 0534 16000000 		.word	22
 349 0538 16000000 		.word	22
 350 053c 16000000 		.word	22
 351 0540 16000000 		.word	22
 352 0544 16000000 		.word	22
 353 0548 16000000 		.word	22
 354 054c 14000000 		.word	20
 355 0550 0A000000 		.word	10
 356 0554 0F000000 		.word	15
 357 0558 14000000 		.word	20
 358 055c 16000000 		.word	22
 359 0560 16000000 		.word	22
 360 0564 16000000 		.word	22
 361 0568 16000000 		.word	22
 362 056c 16000000 		.word	22
 363 0570 16000000 		.word	22
 364 0574 16000000 		.word	22
 365 0578 16000000 		.word	22
 366 057c 14000000 		.word	20
 367 0580 0A000000 		.word	10
 368 0584 0F000000 		.word	15
 369 0588 14000000 		.word	20
 370 058c 16000000 		.word	22
 371 0590 16000000 		.word	22
 372 0594 16000000 		.word	22
 373 0598 16000000 		.word	22
 374 059c 16000000 		.word	22
 375 05a0 16000000 		.word	22
 376 05a4 16000000 		.word	22
 377 05a8 15000000 		.word	21
 378 05ac 13000000 		.word	19
 379 05b0 0A000000 		.word	10
 380 05b4 0F000000 		.word	15
 381 05b8 14000000 		.word	20
 382 05bc 16000000 		.word	22
 383 05c0 16000000 		.word	22
 384 05c4 16000000 		.word	22
 385 05c8 16000000 		.word	22
 386 05cc 16000000 		.word	22
 387 05d0 16000000 		.word	22
 388 05d4 16000000 		.word	22
 389 05d8 14000000 		.word	20
 390 05dc 13000000 		.word	19
 391 05e0 00000000 		.word	0
 392 05e4 00000000 		.word	0
 393 05e8 28230000 		.word	9000
 394 05ec 00000000 		.word	0
 395 05f0 00000000 		.word	0
 396 05f4 28230000 		.word	9000
 397 05f8 00000000 		.word	0
 398 05fc 00000000 		.word	0
 399 0600 28230000 		.word	9000
 400 0604 00000000 		.word	0
 401 0608 00000000 		.word	0
 402 060c 28230000 		.word	9000
 403 0610 00000000 		.word	0
 404 0614 00000000 		.word	0
 405 0618 28230000 		.word	9000
 406 061c 00000000 		.word	0
 407 0620 00000000 		.word	0
 408 0624 28230000 		.word	9000
 409 0628 00000000 		.word	0
 410 062c 00000000 		.word	0
 411 0630 28230000 		.word	9000
 412              		.section	.text.triggerWheelTimerInit,"ax",%progbits
 413              		.align	2
 414              		.global	triggerWheelTimerInit
 415              		.code 16
 416              		.thumb_func
 418              	triggerWheelTimerInit:
 419 0000 30B5     		push	{r4, r5, lr}
 420 0002 0F4D     		ldr	r5, .L3
 421 0004 81B0     		sub	sp, sp, #4
 422 0006 FFF7FEFF 		bl	AT91F_TC0_CfgPIO
 423 000a FFF7FEFF 		bl	AT91F_TC0_CfgPMC
 424 000e 281C     		mov	r0, r5
 425 0010 0C49     		ldr	r1, .L3+4
 426 0012 0C22     		mov	r2, #12
 427 0014 FFF7FEFF 		bl	AT91F_TC_Open
 428 0018 0B4C     		ldr	r4, .L3+8
 429 001a 0C4B     		ldr	r3, .L3+12
 430 001c 0522     		mov	r2, #5
 431 001e 0093     		str	r3, [sp]
 432 0020 201C     		mov	r0, r4
 433 0022 0C21     		mov	r1, #12
 434 0024 2023     		mov	r3, #32
 435 0026 FFF7FEFF 		bl	AT91F_AIC_ConfigureIt
 436 002a 4123     		mov	r3, #65
 437 002c 6B62     		str	r3, [r5, #36]
 438 002e 201C     		mov	r0, r4
 439 0030 0C21     		mov	r1, #12
 440 0032 FFF7FEFF 		bl	AT91F_AIC_EnableIt
 441 0036 01B0     		add	sp, sp, #4
 442              		@ sp needed for prologue
 443 0038 30BC     		pop	{r4, r5}
 444 003a 01BC     		pop	{r0}
 445 003c 0047     		bx	r0
 446              	.L4:
 447 003e 0000     		.align	2
 448              	.L3:
 449 0040 0000FAFF 		.word	-393216
 450 0044 00060900 		.word	591360
 451 0048 00F0FFFF 		.word	-4096
 452 004c 00000000 		.word	triggerWheel_irq_handler
 454              		.section	.text.coilPackTimerInit,"ax",%progbits
 455              		.align	2
 456              		.global	coilPackTimerInit
 457              		.code 16
 458              		.thumb_func
 460              	coilPackTimerInit:
 461 0000 30B5     		push	{r4, r5, lr}
 462 0002 0E4D     		ldr	r5, .L7
 463 0004 0E4B     		ldr	r3, .L7+4
 464 0006 0022     		mov	r2, #0
 465 0008 81B0     		sub	sp, sp, #4
 466 000a 281C     		mov	r0, r5
 467 000c 1A60     		str	r2, [r3]
 468 000e 0D49     		ldr	r1, .L7+8
 469 0010 0E22     		mov	r2, #14
 470 0012 FFF7FEFF 		bl	AT91F_TC_Open
 471 0016 0C4C     		ldr	r4, .L7+12
 472 0018 0C4B     		ldr	r3, .L7+16
 473 001a 0722     		mov	r2, #7
 474 001c 0093     		str	r3, [sp]
 475 001e 201C     		mov	r0, r4
 476 0020 0E21     		mov	r1, #14
 477 0022 2023     		mov	r3, #32
 478 0024 FFF7FEFF 		bl	AT91F_AIC_ConfigureIt
 479 0028 1023     		mov	r3, #16
 480 002a 6B62     		str	r3, [r5, #36]
 481 002c 201C     		mov	r0, r4
 482 002e 0E21     		mov	r1, #14
 483 0030 FFF7FEFF 		bl	AT91F_AIC_EnableIt
 484 0034 01B0     		add	sp, sp, #4
 485              		@ sp needed for prologue
 486 0036 30BC     		pop	{r4, r5}
 487 0038 01BC     		pop	{r0}
 488 003a 0047     		bx	r0
 489              	.L8:
 490              		.align	2
 491              	.L7:
 492 003c 8000FAFF 		.word	-393088
 493 0040 C000FAFF 		.word	-393024
 494 0044 41800000 		.word	32833
 495 0048 00F0FFFF 		.word	-4096
 496 004c 00000000 		.word	coilPack_irq_handler
 498              		.global	__udivsi3
 499              		.section	.text.calculateDwellDegrees,"ax",%progbits
 500              		.align	2
 501              		.global	calculateDwellDegrees
 502              		.code 16
 503              		.thumb_func
 505              	calculateDwellDegrees:
 506 0000 00B5     		push	{lr}
 507 0002 084B     		ldr	r3, .L13
 508 0004 1A68     		ldr	r2, [r3]
 509 0006 5300     		lsl	r3, r2, #1
 510 0008 9B18     		add	r3, r3, r2
 511 000a 011C     		mov	r1, r0
 512 000c 1801     		lsl	r0, r3, #4
 513 000e C01A     		sub	r0, r0, r3
 514 0010 C000     		lsl	r0, r0, #3
 515 0012 FFF7FEFF 		bl	__udivsi3
 516 0016 AA28     		cmp	r0, #170
 517 0018 00D9     		bls	.L10
 518 001a AA20     		mov	r0, #170
 519              	.L10:
 520 001c 024B     		ldr	r3, .L13+4
 521              		@ sp needed for prologue
 522 001e 1860     		str	r0, [r3]
 523 0020 01BC     		pop	{r0}
 524 0022 0047     		bx	r0
 525              	.L14:
 526              		.align	2
 527              	.L13:
 528 0024 00000000 		.word	g_currentDwellUSec
 529 0028 00000000 		.word	g_currentDwellDegrees
 531              		.global	__divsi3
 532              		.global	__modsi3
 533              		.section	.text.updateLogicalCoilDriverRuntimes,"ax",%progbits
 534              		.align	2
 535              		.global	updateLogicalCoilDriverRuntimes
 536              		.code 16
 537              		.thumb_func
 539              	updateLogicalCoilDriverRuntimes:
 540 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 541 0002 1C4B     		ldr	r3, .L24
 542 0004 1C4A     		ldr	r2, .L24+4
 543 0006 1F68     		ldr	r7, [r3]
 544 0008 1C4B     		ldr	r3, .L24+8
 545 000a 83B0     		sub	sp, sp, #12
 546 000c 061C     		mov	r6, r0
 547 000e 0192     		str	r2, [sp, #4]
 548 0010 0093     		str	r3, [sp]
 549 0012 28E0     		b	.L16
 550              	.L17:
 551 0014 019B     		ldr	r3, [sp, #4]
 552 0016 1A68     		ldr	r2, [r3]
 553 0018 3368     		ldr	r3, [r6]
 554 001a 9C1A     		sub	r4, r3, r2
 555 001c 02D5     		bpl	.L18
 556 001e B422     		mov	r2, #180
 557 0020 5200     		lsl	r2, r2, #1
 558 0022 A418     		add	r4, r4, r2
 559              	.L18:
 560 0024 0A21     		mov	r1, #10
 561 0026 201C     		mov	r0, r4
 562 0028 FFF7FEFF 		bl	__divsi3
 563 002c 0A21     		mov	r1, #10
 564 002e 0290     		str	r0, [sp, #8]
 565 0030 201C     		mov	r0, r4
 566 0032 FFF7FEFF 		bl	__modsi3
 567 0036 009A     		ldr	r2, [sp]
 568 0038 1368     		ldr	r3, [r2]
 569 003a E51A     		sub	r5, r4, r3
 570 003c 02D5     		bpl	.L20
 571 003e B423     		mov	r3, #180
 572 0040 5B00     		lsl	r3, r3, #1
 573 0042 ED18     		add	r5, r5, r3
 574              	.L20:
 575 0044 029A     		ldr	r2, [sp, #8]
 576 0046 B061     		str	r0, [r6, #24]
 577 0048 7261     		str	r2, [r6, #20]
 578 004a 3461     		str	r4, [r6, #16]
 579 004c 7560     		str	r5, [r6, #4]
 580 004e 0A21     		mov	r1, #10
 581 0050 281C     		mov	r0, r5
 582 0052 FFF7FEFF 		bl	__divsi3
 583 0056 0A21     		mov	r1, #10
 584 0058 B060     		str	r0, [r6, #8]
 585 005a 281C     		mov	r0, r5
 586 005c FFF7FEFF 		bl	__modsi3
 587 0060 013F     		sub	r7, r7, #1
 588 0062 F060     		str	r0, [r6, #12]
 589 0064 2036     		add	r6, r6, #32
 590              	.L16:
 591 0066 002F     		cmp	r7, #0
 592 0068 D4DC     		bgt	.L17
 593 006a 03B0     		add	sp, sp, #12
 594              		@ sp needed for prologue
 595 006c F0BC     		pop	{r4, r5, r6, r7}
 596 006e 01BC     		pop	{r0}
 597 0070 0047     		bx	r0
 598              	.L25:
 599 0072 0000     		.align	2
 600              	.L24:
 601 0074 00000000 		.word	g_logicalCoilDriverCount
 602 0078 00000000 		.word	g_currentAdvance
 603 007c 00000000 		.word	g_currentDwellDegrees
 605              		.section	.text.calculateCrankPeriodUSec,"ax",%progbits
 606              		.align	2
 607              		.global	calculateCrankPeriodUSec
 608              		.code 16
 609              		.thumb_func
 611              	calculateCrankPeriodUSec:
 612 0000 00B5     		push	{lr}
 613 0002 054B     		ldr	r3, .L28
 614 0004 1A68     		ldr	r2, [r3]
 615 0006 6423     		mov	r3, #100
 616 0008 101C     		mov	r0, r2
 617 000a 5843     		mul	r0, r0, r3
 618 000c 0349     		ldr	r1, .L28+4
 619 000e FFF7FEFF 		bl	__udivsi3
 620              		@ sp needed for prologue
 621 0012 02BC     		pop	{r1}
 622 0014 0847     		bx	r1
 623              	.L29:
 624 0016 0000     		.align	2
 625              	.L28:
 626 0018 00000000 		.word	g_lastCrankRevolutionPeriodRaw
 627 001c 63090000 		.word	2403
 629              		.section	.text.calculateRPM,"ax",%progbits
 630              		.align	2
 631              		.global	calculateRPM
 632              		.code 16
 633              		.thumb_func
 635              	calculateRPM:
 636 0000 00B5     		push	{lr}
 637 0002 011C     		mov	r1, r0
 638 0004 0028     		cmp	r0, #0
 639 0006 0BD0     		beq	.L33
 640 0008 0648     		ldr	r0, .L34
 641 000a FFF7FEFF 		bl	__udivsi3
 642 000e 031C     		mov	r3, r0
 643 0010 4000     		lsl	r0, r0, #1
 644 0012 C018     		add	r0, r0, r3
 645 0014 4000     		lsl	r0, r0, #1
 646 0016 6421     		mov	r1, #100
 647 0018 FFF7FEFF 		bl	__udivsi3
 648 001c 024B     		ldr	r3, .L34+4
 649 001e 1860     		str	r0, [r3]
 650              	.L33:
 651              		@ sp needed for prologue
 652 0020 01BC     		pop	{r0}
 653 0022 0047     		bx	r0
 654              	.L35:
 655              		.align	2
 656              	.L34:
 657 0024 00CA9A3B 		.word	1000000000
 658 0028 00000000 		.word	g_currentRPM
 660              		.section	.text.findMatchingLogicalCoilDriver,"ax",%progbits
 661              		.align	2
 662              		.global	findMatchingLogicalCoilDriver
 663              		.code 16
 664              		.thumb_func
 666              	findMatchingLogicalCoilDriver:
 667 0000 30B5     		push	{r4, r5, lr}
 668 0002 084B     		ldr	r3, .L43
 669 0004 1C68     		ldr	r4, [r3]
 670 0006 051C     		mov	r5, r0
 671 0008 0022     		mov	r2, #0
 672 000a 05E0     		b	.L37
 673              	.L38:
 674 000c 0B68     		ldr	r3, [r1]
 675 000e 081C     		mov	r0, r1
 676 0010 2031     		add	r1, r1, #32
 677 0012 AB42     		cmp	r3, r5
 678 0014 03D0     		beq	.L39
 679 0016 0132     		add	r2, r2, #1
 680              	.L37:
 681 0018 A242     		cmp	r2, r4
 682 001a F7D3     		bcc	.L38
 683 001c 0020     		mov	r0, #0
 684              	.L39:
 685              		@ sp needed for prologue
 686 001e 30BC     		pop	{r4, r5}
 687 0020 02BC     		pop	{r1}
 688 0022 0847     		bx	r1
 689              	.L44:
 690              		.align	2
 691              	.L43:
 692 0024 00000000 		.word	g_logicalCoilDriverCount
 694              		.section	.text.initLogicalCoilDrivers,"ax",%progbits
 695              		.align	2
 696              		.global	initLogicalCoilDrivers
 697              		.code 16
 698              		.thumb_func
 700              	initLogicalCoilDrivers:
 701 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 702 0002 1A4A     		ldr	r2, .L55
 703 0004 1A4D     		ldr	r5, .L55+4
 704 0006 81B0     		sub	sp, sp, #4
 705 0008 0023     		mov	r3, #0
 706 000a 0027     		mov	r7, #0
 707 000c 0090     		str	r0, [sp]
 708 000e 1360     		str	r3, [r2]
 709 0010 24E0     		b	.L46
 710              	.L47:
 711 0012 2B1F     		sub	r3, r5, #4
 712 0014 1A68     		ldr	r2, [r3]
 713 0016 4B6C     		ldr	r3, [r1, #68]
 714 0018 D418     		add	r4, r2, r3
 715 001a 164B     		ldr	r3, .L55+8
 716 001c 2E68     		ldr	r6, [r5]
 717 001e 9C42     		cmp	r4, r3
 718 0020 01DD     		ble	.L48
 719 0022 154B     		ldr	r3, .L55+12
 720 0024 E418     		add	r4, r4, r3
 721              	.L48:
 722 0026 201C     		mov	r0, r4
 723 0028 0099     		ldr	r1, [sp]
 724 002a FFF7FEFF 		bl	findMatchingLogicalCoilDriver
 725 002e 0028     		cmp	r0, #0
 726 0030 0CD1     		bne	.L50
 727 0032 0E48     		ldr	r0, .L55
 728 0034 0168     		ldr	r1, [r0]
 729 0036 009B     		ldr	r3, [sp]
 730 0038 4A01     		lsl	r2, r1, #5
 731 003a 9A18     		add	r2, r3, r2
 732 003c 8023     		mov	r3, #128
 733 003e 5B01     		lsl	r3, r3, #5
 734 0040 B340     		lsl	r3, r3, r6
 735 0042 0131     		add	r1, r1, #1
 736 0044 1460     		str	r4, [r2]
 737 0046 D361     		str	r3, [r2, #28]
 738 0048 0160     		str	r1, [r0]
 739 004a 05E0     		b	.L52
 740              	.L50:
 741 004c 8022     		mov	r2, #128
 742 004e C369     		ldr	r3, [r0, #28]
 743 0050 5201     		lsl	r2, r2, #5
 744 0052 B240     		lsl	r2, r2, r6
 745 0054 1343     		orr	r3, r3, r2
 746 0056 C361     		str	r3, [r0, #28]
 747              	.L52:
 748 0058 0137     		add	r7, r7, #1
 749 005a 0835     		add	r5, r5, #8
 750              	.L46:
 751 005c 0749     		ldr	r1, .L55+16
 752 005e 0B68     		ldr	r3, [r1]
 753 0060 9F42     		cmp	r7, r3
 754 0062 D6D3     		bcc	.L47
 755 0064 01B0     		add	sp, sp, #4
 756              		@ sp needed for prologue
 757 0066 F0BC     		pop	{r4, r5, r6, r7}
 758 0068 01BC     		pop	{r0}
 759 006a 0047     		bx	r0
 760              	.L56:
 761              		.align	2
 762              	.L55:
 763 006c 00000000 		.word	g_logicalCoilDriverCount
 764 0070 08000000 		.word	g_active_engine_config+8
 765 0074 67010000 		.word	359
 766 0078 98FEFFFF 		.word	-360
 767 007c 00000000 		.word	g_active_engine_config
 769              		.section	.text.initRuntimeData,"ax",%progbits
 770              		.align	2
 771              		.global	initRuntimeData
 772              		.code 16
 773              		.thumb_func
 775              	initRuntimeData:
 776 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 777 0002 81B0     		sub	sp, sp, #4
 778 0004 0021     		mov	r1, #0
 779 0006 1C22     		mov	r2, #28
 780 0008 3548     		ldr	r0, .L61
 781 000a FFF7FEFF 		bl	memset
 782 000e 354F     		ldr	r7, .L61+4
 783 0010 8022     		mov	r2, #128
 784 0012 0021     		mov	r1, #0
 785 0014 5200     		lsl	r2, r2, #1
 786 0016 381C     		mov	r0, r7
 787 0018 FFF7FEFF 		bl	memset
 788 001c 0120     		mov	r0, #1
 789 001e 0021     		mov	r1, #0
 790 0020 FFF7FEFF 		bl	xQueueCreate
 791 0024 304B     		ldr	r3, .L61+8
 792 0026 1860     		str	r0, [r3]
 793 0028 0028     		cmp	r0, #0
 794 002a 03D0     		beq	.L58
 795 002c 0021     		mov	r1, #0
 796 002e 0022     		mov	r2, #0
 797 0030 FFF7FEFF 		bl	xQueueSend
 798              	.L58:
 799 0034 2D4D     		ldr	r5, .L61+12
 800 0036 2E4E     		ldr	r6, .L61+16
 801 0038 0024     		mov	r4, #0
 802 003a BD22     		mov	r2, #189
 803 003c 2C60     		str	r4, [r5]
 804 003e 301C     		mov	r0, r6
 805 0040 2C49     		ldr	r1, .L61+20
 806 0042 D200     		lsl	r2, r2, #3
 807 0044 FFF7FEFF 		bl	memcpy
 808 0048 2B4B     		ldr	r3, .L61+24
 809 004a 2C49     		ldr	r1, .L61+28
 810 004c 181C     		mov	r0, r3
 811 004e 4C22     		mov	r2, #76
 812 0050 0093     		str	r3, [sp]
 813 0052 FFF7FEFF 		bl	memcpy
 814 0056 2B68     		ldr	r3, [r5]
 815 0058 5A00     		lsl	r2, r3, #1
 816 005a D218     		add	r2, r2, r3
 817 005c 9301     		lsl	r3, r2, #6
 818 005e 9B1A     		sub	r3, r3, r2
 819 0060 2749     		ldr	r1, .L61+32
 820 0062 9B00     		lsl	r3, r3, #2
 821 0064 9B19     		add	r3, r3, r6
 822 0066 0B60     		str	r3, [r1]
 823 0068 264B     		ldr	r3, .L61+36
 824 006a 1C60     		str	r4, [r3]
 825 006c 264B     		ldr	r3, .L61+40
 826 006e 1C60     		str	r4, [r3]
 827 0070 264B     		ldr	r3, .L61+44
 828 0072 1C60     		str	r4, [r3]
 829 0074 264B     		ldr	r3, .L61+48
 830 0076 1C60     		str	r4, [r3]
 831 0078 264B     		ldr	r3, .L61+52
 832 007a 1C60     		str	r4, [r3]
 833 007c 264B     		ldr	r3, .L61+56
 834 007e 2749     		ldr	r1, .L61+60
 835 0080 1C60     		str	r4, [r3]
 836 0082 274B     		ldr	r3, .L61+64
 837 0084 0C60     		str	r4, [r1]
 838 0086 1C60     		str	r4, [r3]
 839 0088 264B     		ldr	r3, .L61+68
 840 008a 1C60     		str	r4, [r3]
 841 008c 264B     		ldr	r3, .L61+72
 842 008e 1C60     		str	r4, [r3]
 843 0090 264B     		ldr	r3, .L61+76
 844 0092 1C60     		str	r4, [r3]
 845 0094 264B     		ldr	r3, .L61+80
 846 0096 1C60     		str	r4, [r3]
 847 0098 264B     		ldr	r3, .L61+84
 848 009a 1C60     		str	r4, [r3]
 849 009c 264B     		ldr	r3, .L61+88
 850 009e 274A     		ldr	r2, .L61+92
 851 00a0 1C60     		str	r4, [r3]
 852 00a2 274B     		ldr	r3, .L61+96
 853 00a4 1360     		str	r3, [r2]
 854 00a6 009B     		ldr	r3, [sp]
 855 00a8 9A6C     		ldr	r2, [r3, #72]
 856 00aa 264B     		ldr	r3, .L61+100
 857 00ac 1A60     		str	r2, [r3]
 858 00ae 264B     		ldr	r3, .L61+104
 859 00b0 0B60     		str	r3, [r1]
 860 00b2 264B     		ldr	r3, .L61+108
 861 00b4 1C60     		str	r4, [r3]
 862 00b6 264B     		ldr	r3, .L61+112
 863 00b8 381C     		mov	r0, r7
 864 00ba 1C60     		str	r4, [r3]
 865 00bc FFF7FEFF 		bl	initLogicalCoilDrivers
 866 00c0 381C     		mov	r0, r7
 867 00c2 8030     		add	r0, r0, #128
 868 00c4 FFF7FEFF 		bl	initLogicalCoilDrivers
 869 00c8 224C     		ldr	r4, .L61+116
 870 00ca 2760     		str	r7, [r4]
 871 00cc FFF7FEFF 		bl	calculateDwellDegrees
 872 00d0 2068     		ldr	r0, [r4]
 873 00d2 FFF7FEFF 		bl	updateLogicalCoilDriverRuntimes
 874 00d6 01B0     		add	sp, sp, #4
 875              		@ sp needed for prologue
 876 00d8 F0BC     		pop	{r4, r5, r6, r7}
 877 00da 01BC     		pop	{r0}
 878 00dc 0047     		bx	r0
 879              	.L62:
 880 00de 0000     		.align	2
 881              	.L61:
 882 00e0 00000000 		.word	g_output_state
 883 00e4 00000000 		.word	g_logical_coil_drivers
 884 00e8 00000000 		.word	xOnRevolutionHandle
 885 00ec 00000000 		.word	g_selectedIgnitionConfigIndex
 886 00f0 00000000 		.word	g_active_ignition_config
 887 00f4 00000000 		.word	g_saved_ignition_config
 888 00f8 00000000 		.word	g_active_engine_config
 889 00fc 00000000 		.word	g_saved_engine_config
 890 0100 00000000 		.word	g_selected_ignition_config
 891 0104 00000000 		.word	g_toothCountAtLastSyncAttempt
 892 0108 00000000 		.word	g_wheelSyncAttempts
 893 010c 00000000 		.word	g_currentTooth
 894 0110 00000000 		.word	g_wheelSynchronized
 895 0114 00000000 		.word	g_currentCrankRevolutionPeriodRaw
 896 0118 00000000 		.word	g_lastCrankRevolutionPeriodUSec
 897 011c 00000000 		.word	g_lastCrankRevolutionPeriodRaw
 898 0120 00000000 		.word	g_lastInterToothPeriodRaw
 899 0124 00000000 		.word	g_currentToothPeriodOverflowCount
 900 0128 00000000 		.word	g_currentRPM
 901 012c 00000000 		.word	g_currentLoad
 902 0130 00000000 		.word	g_currentLoadBin
 903 0134 00000000 		.word	g_currentRPMBin
 904 0138 00000000 		.word	g_engineIsRunning
 905 013c 00000000 		.word	g_currentDwellUSec
 906 0140 70170000 		.word	6000
 907 0144 00000000 		.word	g_currentAdvance
 908 0148 23D42D00 		.word	3003427
 909 014c 00000000 		.word	g_coilDriversToCharge
 910 0150 00000000 		.word	g_coilDriversToFire
 911 0154 00000000 		.word	g_active_logical_coil_drivers
 913              		.section	.text.updateUserOutputs,"ax",%progbits
 914              		.align	2
 915              		.global	updateUserOutputs
 916              		.code 16
 917              		.thumb_func
 919              	updateUserOutputs:
 920 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 921 0002 174B     		ldr	r3, .L79
 922 0004 AA22     		mov	r2, #170
 923 0006 1B68     		ldr	r3, [r3]
 924 0008 9200     		lsl	r2, r2, #2
 925 000a 9D18     		add	r5, r3, r2
 926 000c 154A     		ldr	r2, .L79+4
 927 000e 1C23     		mov	r3, #28
 928 0010 9B18     		add	r3, r3, r2
 929 0012 154F     		ldr	r7, .L79+8
 930 0014 154E     		ldr	r6, .L79+12
 931 0016 9C46     		mov	ip, r3
 932              	.L64:
 933 0018 2B1C     		mov	r3, r5
 934 001a 083B     		sub	r3, r3, #8
 935 001c 1B68     		ldr	r3, [r3]
 936 001e 002B     		cmp	r3, #0
 937 0020 04D0     		beq	.L66
 938 0022 012B     		cmp	r3, #1
 939 0024 05D0     		beq	.L67
 940 0026 0024     		mov	r4, #0
 941 0028 0020     		mov	r0, #0
 942 002a 04E0     		b	.L68
 943              	.L66:
 944 002c 3C68     		ldr	r4, [r7]
 945 002e 6420     		mov	r0, #100
 946 0030 01E0     		b	.L68
 947              	.L67:
 948 0032 3468     		ldr	r4, [r6]
 949 0034 0220     		mov	r0, #2
 950              	.L68:
 951 0036 1368     		ldr	r3, [r2]
 952 0038 2968     		ldr	r1, [r5]
 953 003a 012B     		cmp	r3, #1
 954 003c 04D1     		bne	.L69
 955 003e 0B1A     		sub	r3, r1, r0
 956 0040 9C42     		cmp	r4, r3
 957 0042 05DA     		bge	.L71
 958 0044 0023     		mov	r3, #0
 959 0046 02E0     		b	.L78
 960              	.L69:
 961 0048 8C42     		cmp	r4, r1
 962 004a 01DD     		ble	.L71
 963 004c 0123     		mov	r3, #1
 964              	.L78:
 965 004e 1360     		str	r3, [r2]
 966              	.L71:
 967 0050 0432     		add	r2, r2, #4
 968 0052 0C35     		add	r5, r5, #12
 969 0054 6245     		cmp	r2, ip
 970 0056 DFD1     		bne	.L64
 971              		@ sp needed for prologue
 972 0058 F0BC     		pop	{r4, r5, r6, r7}
 973 005a 01BC     		pop	{r0}
 974 005c 0047     		bx	r0
 975              	.L80:
 976 005e 0000     		.align	2
 977              	.L79:
 978 0060 00000000 		.word	g_selected_ignition_config
 979 0064 00000000 		.word	g_output_state
 980 0068 00000000 		.word	g_currentRPM
 981 006c 00000000 		.word	g_currentLoad
 983              		.section	.text.linearInterpolate,"ax",%progbits
 984              		.align	2
 985              		.global	linearInterpolate
 986              		.code 16
 987              		.thumb_func
 989              	linearInterpolate:
 990 0000 70B5     		push	{r4, r5, r6, lr}
 991 0002 051C     		mov	r5, r0
 992 0004 0498     		ldr	r0, [sp, #16]
 993 0006 5B1A     		sub	r3, r3, r1
 994 0008 801A     		sub	r0, r0, r2
 995 000a 0E1C     		mov	r6, r1
 996 000c 0004     		lsl	r0, r0, #16
 997 000e 191C     		mov	r1, r3
 998 0010 141C     		mov	r4, r2
 999 0012 FFF7FEFF 		bl	__divsi3
 1000 0016 AD1B     		sub	r5, r5, r6
 1001 0018 2B1C     		mov	r3, r5
 1002 001a 4343     		mul	r3, r3, r0
 1003 001c 1B14     		asr	r3, r3, #16
 1004 001e E418     		add	r4, r4, r3
 1005 0020 201C     		mov	r0, r4
 1006              		@ sp needed for prologue
 1007 0022 70BC     		pop	{r4, r5, r6}
 1008 0024 02BC     		pop	{r1}
 1009 0026 0847     		bx	r1
 1011              		.section	.text.calculateAdvance,"ax",%progbits
 1012              		.align	2
 1013              		.global	calculateAdvance
 1014              		.code 16
 1015              		.thumb_func
 1017              	calculateAdvance:
 1018 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1019 0002 3B4B     		ldr	r3, .L101
 1020 0004 1B68     		ldr	r3, [r3]
 1021 0006 8BB0     		sub	sp, sp, #44
 1022 0008 0793     		str	r3, [sp, #28]
 1023 000a 3A4B     		ldr	r3, .L101+4
 1024 000c 1B68     		ldr	r3, [r3]
 1025 000e 0893     		str	r3, [sp, #32]
 1026 0010 394B     		ldr	r3, .L101+8
 1027 0012 1868     		ldr	r0, [r3]
 1028 0014 021C     		mov	r2, r0
 1029 0016 0B21     		mov	r1, #11
 1030 0018 2C32     		add	r2, r2, #44
 1031 001a 0991     		str	r1, [sp, #36]
 1032 001c 03E0     		b	.L84
 1033              	.L85:
 1034 001e 099B     		ldr	r3, [sp, #36]
 1035 0020 013B     		sub	r3, r3, #1
 1036 0022 0993     		str	r3, [sp, #36]
 1037 0024 043A     		sub	r2, r2, #4
 1038              	.L84:
 1039 0026 1368     		ldr	r3, [r2]
 1040 0028 079C     		ldr	r4, [sp, #28]
 1041 002a 9C42     		cmp	r4, r3
 1042 002c 04D2     		bcs	.L86
 1043 002e 0999     		ldr	r1, [sp, #36]
 1044 0030 0029     		cmp	r1, #0
 1045 0032 F4D1     		bne	.L85
 1046 0034 0024     		mov	r4, #0
 1047 0036 06E0     		b	.L89
 1048              	.L86:
 1049 0038 099A     		ldr	r2, [sp, #36]
 1050 003a 0A2A     		cmp	r2, #10
 1051 003c 01D9     		bls	.L90
 1052 003e 141C     		mov	r4, r2
 1053 0040 01E0     		b	.L89
 1054              	.L90:
 1055 0042 099C     		ldr	r4, [sp, #36]
 1056 0044 0134     		add	r4, r4, #1
 1057              	.L89:
 1058 0046 031C     		mov	r3, r0
 1059 0048 021C     		mov	r2, r0
 1060 004a 3033     		add	r3, r3, #48
 1061 004c 5C32     		add	r2, r2, #92
 1062 004e 0B27     		mov	r7, #11
 1063 0050 0493     		str	r3, [sp, #16]
 1064 0052 01E0     		b	.L92
 1065              	.L93:
 1066 0054 043A     		sub	r2, r2, #4
 1067 0056 013F     		sub	r7, r7, #1
 1068              	.L92:
 1069 0058 1368     		ldr	r3, [r2]
 1070 005a 0899     		ldr	r1, [sp, #32]
 1071 005c 9942     		cmp	r1, r3
 1072 005e 04D2     		bcs	.L94
 1073 0060 002F     		cmp	r7, #0
 1074 0062 F7D1     		bne	.L93
 1075 0064 0022     		mov	r2, #0
 1076 0066 0A92     		str	r2, [sp, #40]
 1077 0068 05E0     		b	.L97
 1078              	.L94:
 1079 006a 0A2F     		cmp	r7, #10
 1080 006c 01D9     		bls	.L98
 1081 006e 0A97     		str	r7, [sp, #40]
 1082 0070 01E0     		b	.L97
 1083              	.L98:
 1084 0072 7B1C     		add	r3, r7, #1
 1085 0074 0A93     		str	r3, [sp, #40]
 1086              	.L97:
 1087 0076 0A9A     		ldr	r2, [sp, #40]
 1088 0078 7900     		lsl	r1, r7, #1
 1089 007a 5300     		lsl	r3, r2, #1
 1090 007c C919     		add	r1, r1, r7
 1091 007e 061C     		mov	r6, r0
 1092 0080 9B18     		add	r3, r3, r2
 1093 0082 6036     		add	r6, r6, #96
 1094 0084 1B01     		lsl	r3, r3, #4
 1095 0086 0901     		lsl	r1, r1, #4
 1096 0088 7118     		add	r1, r6, r1
 1097 008a F618     		add	r6, r6, r3
 1098 008c 099B     		ldr	r3, [sp, #36]
 1099 008e A400     		lsl	r4, r4, #2
 1100 0090 9D00     		lsl	r5, r3, #2
 1101 0092 2A58     		ldr	r2, [r5, r0]
 1102 0094 BB00     		lsl	r3, r7, #2
 1103 0096 2058     		ldr	r0, [r4, r0]
 1104 0098 0393     		str	r3, [sp, #12]
 1105 009a 6358     		ldr	r3, [r4, r1]
 1106 009c 0592     		str	r2, [sp, #20]
 1107 009e 0690     		str	r0, [sp, #24]
 1108 00a0 6A58     		ldr	r2, [r5, r1]
 1109 00a2 0798     		ldr	r0, [sp, #28]
 1110 00a4 0599     		ldr	r1, [sp, #20]
 1111 00a6 0093     		str	r3, [sp]
 1112 00a8 069B     		ldr	r3, [sp, #24]
 1113 00aa FFF7FEFF 		bl	linearInterpolate
 1114 00ae 0A99     		ldr	r1, [sp, #40]
 1115 00b0 A359     		ldr	r3, [r4, r6]
 1116 00b2 8900     		lsl	r1, r1, #2
 1117 00b4 AA59     		ldr	r2, [r5, r6]
 1118 00b6 0290     		str	r0, [sp, #8]
 1119 00b8 0191     		str	r1, [sp, #4]
 1120 00ba 0093     		str	r3, [sp]
 1121 00bc 0599     		ldr	r1, [sp, #20]
 1122 00be 069B     		ldr	r3, [sp, #24]
 1123 00c0 0798     		ldr	r0, [sp, #28]
 1124 00c2 FFF7FEFF 		bl	linearInterpolate
 1125 00c6 039A     		ldr	r2, [sp, #12]
 1126 00c8 049B     		ldr	r3, [sp, #16]
 1127 00ca 019C     		ldr	r4, [sp, #4]
 1128 00cc D158     		ldr	r1, [r2, r3]
 1129 00ce E358     		ldr	r3, [r4, r3]
 1130 00d0 029A     		ldr	r2, [sp, #8]
 1131 00d2 0090     		str	r0, [sp]
 1132 00d4 0898     		ldr	r0, [sp, #32]
 1133 00d6 FFF7FEFF 		bl	linearInterpolate
 1134 00da 084B     		ldr	r3, .L101+12
 1135 00dc 1860     		str	r0, [r3]
 1136 00de 084B     		ldr	r3, .L101+16
 1137 00e0 0999     		ldr	r1, [sp, #36]
 1138 00e2 1F60     		str	r7, [r3]
 1139 00e4 074B     		ldr	r3, .L101+20
 1140 00e6 0BB0     		add	sp, sp, #44
 1141 00e8 1960     		str	r1, [r3]
 1142              		@ sp needed for prologue
 1143 00ea F0BC     		pop	{r4, r5, r6, r7}
 1144 00ec 01BC     		pop	{r0}
 1145 00ee 0047     		bx	r0
 1146              	.L102:
 1147              		.align	2
 1148              	.L101:
 1149 00f0 00000000 		.word	g_currentRPM
 1150 00f4 00000000 		.word	g_currentLoad
 1151 00f8 00000000 		.word	g_selected_ignition_config
 1152 00fc 00000000 		.word	g_currentAdvance
 1153 0100 00000000 		.word	g_currentLoadBin
 1154 0104 00000000 		.word	g_currentRPMBin
 1156              		.section	.text.onRevolutionTask,"ax",%progbits
 1157              		.align	2
 1158              		.global	onRevolutionTask
 1159              		.code 16
 1160              		.thumb_func
 1162              	onRevolutionTask:
 1163 0000 10B5     		push	{r4, lr}
 1164 0002 FFF7FEFF 		bl	initRuntimeData
 1165 0006 FFF7FEFF 		bl	vPortEnterCritical
 1166 000a FFF7FEFF 		bl	triggerWheelTimerInit
 1167 000e FFF7FEFF 		bl	coilPackTimerInit
 1168 0012 FFF7FEFF 		bl	enableIRQ
 1169 0016 FFF7FEFF 		bl	vPortExitCritical
 1170              	.L114:
 1171 001a 104B     		ldr	r3, .L115
 1172 001c 0021     		mov	r1, #0
 1173 001e 1868     		ldr	r0, [r3]
 1174 0020 0122     		mov	r2, #1
 1175 0022 FFF7FEFF 		bl	xQueueReceive
 1176 0026 0128     		cmp	r0, #1
 1177 0028 F7D1     		bne	.L114
 1178 002a FFF7FEFF 		bl	calculateCrankPeriodUSec
 1179 002e 041C     		mov	r4, r0
 1180 0030 FFF7FEFF 		bl	calculateRPM
 1181 0034 201C     		mov	r0, r4
 1182 0036 FFF7FEFF 		bl	calculateDwellDegrees
 1183 003a 094B     		ldr	r3, .L115+4
 1184 003c 094A     		ldr	r2, .L115+8
 1185 003e 1C60     		str	r4, [r3]
 1186 0040 1423     		mov	r3, #20
 1187 0042 1360     		str	r3, [r2]
 1188 0044 FFF7FEFF 		bl	calculateAdvance
 1189 0048 074B     		ldr	r3, .L115+12
 1190 004a 0848     		ldr	r0, .L115+16
 1191 004c 1B68     		ldr	r3, [r3]
 1192 004e 8342     		cmp	r3, r0
 1193 0050 00D1     		bne	.L106
 1194 0052 8030     		add	r0, r0, #128
 1195              	.L106:
 1196 0054 FFF7FEFF 		bl	updateLogicalCoilDriverRuntimes
 1197 0058 DFE7     		b	.L114
 1198              	.L116:
 1199 005a 0000     		.align	2
 1200              	.L115:
 1201 005c 00000000 		.word	xOnRevolutionHandle
 1202 0060 00000000 		.word	g_lastCrankRevolutionPeriodUSec
 1203 0064 00000000 		.word	g_currentLoad
 1204 0068 00000000 		.word	g_active_logical_coil_drivers
 1205 006c 00000000 		.word	g_logical_coil_drivers
 1207              		.comm	g_selected_ignition_config,4,4
 1208              		.comm	g_active_ignition_config,1512,4
 1209              		.comm	g_active_engine_config,76,4
 1210              		.comm	g_output_state,28,4
 1211              		.comm	g_selectedIgnitionConfigIndex,4,4
 1212              		.comm	g_coilDriversToCharge,4,4
 1213              		.comm	g_coilDriversToFire,4,4
 1214              		.comm	g_currentTooth,4,4
 1215              		.comm	g_logicalCoilDriverCount,4,4
 1216              		.comm	g_logical_coil_drivers,256,4
 1217              		.comm	g_active_logical_coil_drivers,4,4
 1218              		.comm	g_engineIsRunning,4,4
 1219              		.comm	g_currentDwellDegrees,4,4
 1220              		.comm	g_currentAdvance,4,4
 1221              		.comm	g_currentRPMBin,4,4
 1222              		.comm	g_currentLoadBin,4,4
 1223              		.comm	g_currentLoad,4,4
 1224              		.comm	g_currentDwellUSec,4,4
 1225              		.comm	g_currentRPM,4,4
 1226              		.comm	g_wheelSynchronized,4,4
 1227              		.comm	g_currentToothPeriodOverflowCount,4,4
 1228              		.comm	g_lastInterToothPeriodRaw,4,4
 1229              		.comm	g_lastCrankRevolutionPeriodUSec,4,4
 1230              		.comm	g_lastCrankRevolutionPeriodRaw,4,4
 1231              		.comm	g_currentCrankRevolutionPeriodRaw,4,4
 1232              		.comm	g_toothCountAtLastSyncAttempt,4,4
 1233              		.comm	g_wheelSyncAttempts,4,4
 1234              		.comm	xOnRevolutionHandle,4,4
 1235              		.comm	debugMsg,100,1
 1236              		.ident	"GCC: (GNU) 4.0.2"
DEFINED SYMBOLS
                            *ABS*:00000000 runtime.c
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:1      .text:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:9      .text:00000000 g_saved_engine_config
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:10     .text:00000000 $d
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:33     .text:0000004c g_saved_ignition_config
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:418    .text.triggerWheelTimerInit:00000000 triggerWheelTimerInit
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:415    .text.triggerWheelTimerInit:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:449    .text.triggerWheelTimerInit:00000040 $d
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:460    .text.coilPackTimerInit:00000000 coilPackTimerInit
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:457    .text.coilPackTimerInit:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:492    .text.coilPackTimerInit:0000003c $d
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:505    .text.calculateDwellDegrees:00000000 calculateDwellDegrees
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:502    .text.calculateDwellDegrees:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:528    .text.calculateDwellDegrees:00000024 $d
                            *COM*:00000004 g_currentDwellUSec
                            *COM*:00000004 g_currentDwellDegrees
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:539    .text.updateLogicalCoilDriverRuntimes:00000000 updateLogicalCoilDriverRuntimes
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:536    .text.updateLogicalCoilDriverRuntimes:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:601    .text.updateLogicalCoilDriverRuntimes:00000074 $d
                            *COM*:00000004 g_logicalCoilDriverCount
                            *COM*:00000004 g_currentAdvance
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:611    .text.calculateCrankPeriodUSec:00000000 calculateCrankPeriodUSec
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:608    .text.calculateCrankPeriodUSec:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:626    .text.calculateCrankPeriodUSec:00000018 $d
                            *COM*:00000004 g_lastCrankRevolutionPeriodRaw
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:635    .text.calculateRPM:00000000 calculateRPM
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:632    .text.calculateRPM:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:657    .text.calculateRPM:00000024 $d
                            *COM*:00000004 g_currentRPM
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:666    .text.findMatchingLogicalCoilDriver:00000000 findMatchingLogicalCoilDriver
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:663    .text.findMatchingLogicalCoilDriver:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:692    .text.findMatchingLogicalCoilDriver:00000024 $d
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:700    .text.initLogicalCoilDrivers:00000000 initLogicalCoilDrivers
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:697    .text.initLogicalCoilDrivers:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:763    .text.initLogicalCoilDrivers:0000006c $d
                            *COM*:0000004c g_active_engine_config
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:775    .text.initRuntimeData:00000000 initRuntimeData
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:772    .text.initRuntimeData:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:882    .text.initRuntimeData:000000e0 $d
                            *COM*:0000001c g_output_state
                            *COM*:00000100 g_logical_coil_drivers
                            *COM*:00000004 xOnRevolutionHandle
                            *COM*:00000004 g_selectedIgnitionConfigIndex
                            *COM*:000005e8 g_active_ignition_config
                            *COM*:00000004 g_selected_ignition_config
                            *COM*:00000004 g_toothCountAtLastSyncAttempt
                            *COM*:00000004 g_wheelSyncAttempts
                            *COM*:00000004 g_currentTooth
                            *COM*:00000004 g_wheelSynchronized
                            *COM*:00000004 g_currentCrankRevolutionPeriodRaw
                            *COM*:00000004 g_lastCrankRevolutionPeriodUSec
                            *COM*:00000004 g_lastInterToothPeriodRaw
                            *COM*:00000004 g_currentToothPeriodOverflowCount
                            *COM*:00000004 g_currentLoad
                            *COM*:00000004 g_currentLoadBin
                            *COM*:00000004 g_currentRPMBin
                            *COM*:00000004 g_engineIsRunning
                            *COM*:00000004 g_coilDriversToCharge
                            *COM*:00000004 g_coilDriversToFire
                            *COM*:00000004 g_active_logical_coil_drivers
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:919    .text.updateUserOutputs:00000000 updateUserOutputs
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:916    .text.updateUserOutputs:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:978    .text.updateUserOutputs:00000060 $d
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:989    .text.linearInterpolate:00000000 linearInterpolate
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:986    .text.linearInterpolate:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:1017   .text.calculateAdvance:00000000 calculateAdvance
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:1014   .text.calculateAdvance:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:1149   .text.calculateAdvance:000000f0 $d
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:1162   .text.onRevolutionTask:00000000 onRevolutionTask
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:1159   .text.onRevolutionTask:00000000 $t
/cygdrive/c/Users/brent/AppData/Local/Temp/ccGjqiib.s:1201   .text.onRevolutionTask:0000005c $d
                            *COM*:00000064 debugMsg

UNDEFINED SYMBOLS
AT91F_TC0_CfgPIO
AT91F_TC0_CfgPMC
AT91F_TC_Open
AT91F_AIC_ConfigureIt
AT91F_AIC_EnableIt
triggerWheel_irq_handler
coilPack_irq_handler
__udivsi3
__divsi3
__modsi3
memset
xQueueCreate
xQueueSend
memcpy
vPortEnterCritical
enableIRQ
vPortExitCritical
xQueueReceive
